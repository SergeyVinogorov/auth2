/* Variables */
:root {
	--primary: rgb(15, 25, 215);
	--secondary: rgba(255, 255, 255, 0.87);
	--text-color: rgb(0, 0, 0);
	--border-color: rgb(151, 151, 166);
	--error: rgb(205, 1, 24);
	--actions: rgb(52, 41, 255);
	--success: rgb(58, 168, 91);
	--radius: 8px;
	--spacing: 0.6em 1.2em;
}

@supports (color: oklch(0% 0 0)) {
	:root {
		--primary: oklch(0.413 0.2646 265.59);
		--secondary: oklch(1 0 0 / 87%);
		--text-color: oklch(0 0.0074 256.24);
		--border-color: oklch(0.6813 0.0219 285.81);
		--error: oklch(0.534 0.217 26.593);
		--actions: oklch(0.5 0.3 270);
		--success: oklch(0.65 0.15 150);
	}
}
/* Global resets and typography */

body {
	margin: 0;
	font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
	line-height: 1.5;
	font-weight: 400;
	color: var(--text-color);
	background-color: var(--secondary);
}
a,
button,
input {
	font-family: inherit;
	font-size: 1em;
}

/* Layout */

.page-layout {
	position: relative;
	height: 100vh;
	isolation: isolate;
}
.page-home {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	height: 100vh;
}
.layout-container {
	display: flex;
	justify-content: space-between;
	height: 100%;
	text-align: center;
}
.auth-container {
	width: 50%;
}
.info-container {
	height: 100%;
	width: 70%;
	align-self: flex-end;
	display: flex;
	justify-content: center;
	align-items: center;
}
.auth-panel {
	display: flex;
	justify-content: center;
	align-items: center;
	flex-direction: column;
	width: 50%;
}
.info-panel {
	background-color: var(--primary);
	color: var(--secondary);
}

/* Empty state */

.empty-state {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	text-align: center;
	padding: 2em;
}
.empty-title {
	font-size: 2em;
	font-weight: 700;
	margin-bottom: 0.5em;
	color: var(--text-color);
}
.empty-description {
	color: var(--text-color);
	margin-bottom: 1em;
	max-width: 400px;
}

/* Alert */

.alert {
	padding: var(--spacing);
	border-radius: var(--radius);
	margin: 1em 0;
}

.alert-error {
	background: color-mix(in srgb, var(--error) 10%, var(--secondary));
	color: var(--error);
	border: 1px solid var(--error);
}

.alert-success {
	background: color-mix(in srgb, var(--success) 10%, var(--secondary));
	color: var(--success);
	border: 1px solid var(--success);
}

/* Logo */

.logo {
	display: block;
	font-weight: 500;
	position: absolute;
	top: 0;
	left: 0;
	z-index: 1;
	color: var(--secondary);
	margin: 1em;
	text-decoration: none;
}
.logo-dark {
	color: var(--primary);
}
.logo-light {
	color: var(--secondary);
}

/* Frames and Transitions */

.frame {
	clip-path: polygon(0 0, 100% 0, 100% 0%, 79% 100%, 0 100%);
}
.frame .info-container {
	align-self: flex-start;
}
.reversed-frame {
	clip-path: polygon(0 0%, 100% 0%, 100% 100%, 32% 100%);
}
.slide-transition {
	view-transition-name: info-slide;
}
.hide-transition {
	view-transition-name: form-hide;
}

/* Buttons */

.button {
	display: inline-block;
	border-radius: var(--radius);
	padding: var(--spacing);
	font-size: 1em;
	font-weight: 500;
	font-family: inherit;
	background-color: transparent;
	cursor: pointer;
	transition:
		border-color 0.25s,
		opacity 0.25s;
	border: 1px solid var(--secondary);
	color: var(--secondary);
	text-decoration: none;
}
.button:hover {
	opacity: 0.9;
}
.actions-button {
	background-color: var(--actions);
	color: var(--secondary);
	border-color: var(--actions);
}
/* Forms */

.auth-form {
	display: flex;
	flex-direction: column;
	align-items: center;
	width: 100%;
	color: var(--text-color);
	gap: 16px;
}
.auth-form label {
	width: 100%;
	text-align: left;
}
.auth-form input {
	font-size: 1em;
	padding: var(--spacing);
	box-sizing: border-box;
	width: 100%;
	background-color: transparent;
	outline: none;
	border: 1px solid var(--border-color);
	border-radius: var(--radius);
	color: var(--text-color);
}
.auth-form .button {
	width: 100%;
}

.auth-form input:disabled,
.button[type='submit']:disabled {
	cursor: not-allowed;
	opacity: 0.5;
}

.auth-form .button:focus-visible,
input:focus-visible {
	outline: 2px solid var(--primary);
	outline-offset: 2px;
}
.auth-fieldset {
	display: flex;
	border: none;
	padding: 0;
	margin: 0;
}
.auth-fieldset label input {
	border-radius: var(--radius) 0 0 var(--radius);
}
.auth-fieldset label:last-child input {
	border-radius: 0 var(--radius) var(--radius) 0;
	border-left-width: 0;
}

.touched:invalid {
	border-width: 2px;
	border-color: var(--error);
}
.error-text {
	font-size: 14px;
	text-align: left;
	color: var(--error);
}
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* Responsive */

@media screen and (max-width: 768px) {
	.layout-container {
		flex-direction: column;
	}
	.page-layout {
		height: auto;
	}
	.info-panel {
		height: 40vh;
	}
	.auth-panel {
		width: 100%;
		height: 60vh;
	}
	.frame {
		clip-path: none;
	}
	.frame .info-container {
		align-self: center;
	}
	.reversed-frame {
		clip-path: none;
	}
	.info-container {
		align-self: center;
		width: 80%;
	}
	.auth-container {
		width: 80%;
	}
}

/* View transitions */

/* Forwards */
[data-vt-direction='forwards']::view-transition-old(info-slide) {
	clip-path: polygon(0 0%, 100% 0%, 100% 100%, 32% 100%);
}
[data-vt-direction='forwards']::view-transition-new(info-slide) {
	animation: 0.5s ease-in-out bounce-forwards;
}

/*Backwards */
[data-vt-direction='backwards']::view-transition-old(info-slide) {
	clip-path: polygon(0 0, 100% 0, 100% 0%, 79% 100%, 0 100%);
}
[data-vt-direction='backwards']::view-transition-new(info-slide) {
	animation: 0.5s ease-in-out bounce-backwards;
}
/* Form */
::view-transition-old(form-hide) {
	opacity: 0;
}
::view-transition-new(form-hide) {
	animation: 0.5s ease-in-out fade-in;
}

@media screen and (max-width: 768px) {
	/* Forwards */
	[data-vt-direction='forwards']::view-transition-old(info-slide) {
		clip-path: none;
	}
	[data-vt-direction='forwards']::view-transition-new(info-slide) {
		animation: none;
	}

	/* Backwards */
	[data-vt-direction='backwards']::view-transition-old(info-slide) {
		clip-path: none;
	}
	[data-vt-direction='backwards']::view-transition-new(info-slide) {
		animation: none;
	}
}

@media (prefers-reduced-motion) {
	::view-transition-group(*),
	::view-transition-old(*),
	::view-transition-new(*) {
		animation: none !important;
	}
}

/* Animations */

@keyframes bounce-forwards {
	0% {
		clip-path: polygon(0 0, 100% 0, 100% 0%, 79% 100%, 0 100%);
	}
	50% {
		clip-path: polygon(0 0, 100% 0, 96% 0%, 76% 100%, 0 100%);
	}
	100% {
		clip-path: polygon(0 0, 100% 0, 100% 0%, 79% 100%, 0 100%);
	}
}

@keyframes bounce-backwards {
	0% {
		clip-path: polygon(0 0%, 100% 0%, 100% 100%, 32% 100%);
	}
	50% {
		clip-path: polygon(0 -20%, 100% 0%, 100% 100%, 40% 100%);
	}
	100% {
		clip-path: polygon(0 0%, 100% 0%, 100% 100%, 32% 100%);
	}
}

@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}
